import{i as V}from"./index-DOonL-o5.js";const E=function(e,t,n,r,i){const l=d(t);return!e||!e.type||typeof e.type!="string"?!1:l.call(i,e,n,r)},d=function(e){if(e==null)return M;if(typeof e=="string")return je(e);if(typeof e=="object")return $e(e);if(typeof e=="function")return ce(e);throw new Error("Expected function, string, or array as test")};function $e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=d(e[n]);return ce(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function je(e){return t;function t(n){return M(n)&&n.tagName===e}}function ce(e){return t;function t(n,...r){return M(n)&&!!e.call(this,n,...r)}}function M(e){return!!(e&&typeof e=="object"&&e.type==="element"&&typeof e.tagName=="string")}const Te=d(["audio","canvas","embed","iframe","img","math","object","picture","svg","video"]),N=function(e){if(e==null)return Oe;if(typeof e=="string")return Fe(e);if(typeof e=="object")return Array.isArray(e)?Ce(e):Ee(e);if(typeof e=="function")return F(e);throw new Error("Expected function, string, or object as test")};function Ce(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=N(e[n]);return F(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function Ee(e){return F(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function Fe(e){return F(t);function t(n){return n&&n.type===e}}function F(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function Oe(){return!0}function qe(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}const Re=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],Pe=["button","input","select","textarea"],Ue=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],H=N(["doctype","comment"]);function Le(e={}){const t=Ve(e.newlines?De:Ke);return n=>{oe(n,{collapse:t,whitespace:"normal"})}}function oe(e,t){if("children"in e){const n=Object.assign({},t);return(e.type==="root"||fe(e))&&(n.before=!0,n.after=!0),n.whitespace=Xe(e,t),We(e,n)}if(e.type==="text"){if(t.whitespace==="normal")return ze(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{remove:!1,ignore:H(e),stripAtStart:!1}}function ze(e,t){const n=t.collapse(e.value),r={remove:!1,ignore:!1,stripAtStart:!1};let i=0,l=n.length;return t.before&&X(n.charAt(0))&&i++,i!==l&&X(n.charAt(l-1))&&(t.after?l--:r.stripAtStart=!0),i===l?r.remove=!0:e.value=n.slice(i,l),r}function We(e,t){let n=t.before;const r=t.after,i=e.children;let l=i.length,s=-1;for(;++s<l;){const c=oe(i[s],Object.assign({},t,{before:n,after:ae(i,s,r)}));c.remove?(i.splice(s,1),s--,l--):c.ignore||(n=c.stripAtStart),ue(i[s])&&(n=!1)}return{remove:!1,ignore:!1,stripAtStart:!!(n||r)}}function ae(e,t,n){for(;++t<e.length;){const r=e[t];let i=Me(r);if(i===void 0&&"children"in r&&!He(r)&&(i=ae(r.children,-1)),typeof i=="boolean")return i}return n}function Me(e){if(e.type==="element"){if(ue(e))return!1;if(fe(e))return!0}else if(e.type==="text"){if(!qe(e))return!1}else if(!H(e))return!1}function ue(e){return Te(e)||E(e,Pe)}function fe(e){return E(e,Re)}function He(e){return!!("properties"in e&&e.properties&&e.properties.hidden)||H(e)||E(e,Ue)}function X(e){return e===" "||e===`
`}function De(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function Ke(){return" "}function Ve(e){return t;function t(n){return String(n).replace(/[\t\n\v\f\r ]+/g,e)}}function Xe(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}const Ye=!0,z=!1,pe="skip",_e=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=N(t),l=r?-1:1;s(e,void 0,[])();function s(c,o,u){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const g=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(c.type+(g?"<"+g+">":""))+")"})}return w;function w(){let g=[],b,m,v;if((!t||i(c,o,u[u.length-1]||null))&&(g=Ge(n(c,u)),g[0]===z))return g;if(c.children&&g[0]!==pe)for(m=(r?c.children.length:-1)+l,v=u.concat(c);m>-1&&m<c.children.length;){if(b=s(c.children[m],m,v)(),b[0]===z)return b;m=typeof b[1]=="number"?b[1]:m+l}return g}}};function Ge(e){return Array.isArray(e)?e:typeof e=="number"?[Ye,e]:[e]}const T=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),_e(e,t,i,r);function i(l,s){const c=s[s.length-1];return n(l,c?c.children.indexOf(l):null,c)}};function a(e,t){const n=t.children||[],r=[];let i=-1;for(;++i<n.length;){const c=he(e,n[i],t);Array.isArray(c)?r.push(...c):c&&r.push(c)}let l=0,s=r.length;for(;l<s&&r[l].type==="break";)l++;for(;s>l&&r[s-1].type==="break";)s--;return l===0&&s===r.length?r:r.slice(l,s)}const C={}.hasOwnProperty;function y(e,t){return e.wrapText?t:t.replace(/\r?\n|\r/g," ")}function he(e,t,n){let r;if(t.type==="element"){if(t.properties&&t.properties.dataMdast==="ignore")return;C.call(e.handlers,t.tagName)&&(r=e.handlers[t.tagName])}else C.call(e.handlers,t.type)&&(r=e.handlers[t.type]);return typeof r=="function"?r(e,t,n):Je(e,t)}function Je(e,t){return typeof t.value=="string"?e(t,"text",y(e,t.value)):a(e,t)}const Qe={}.hasOwnProperty;function I(e,t){const n=typeof t=="string"&&Ze(e)&&e.type==="element"&&e.properties&&Qe.call(e.properties,t)&&e.properties[t];return n!=null&&n!==!1}function Ze(e){return!!(e&&typeof e=="object"&&"type"in e)}const et=d(["audio","canvas","embed","iframe","img","math","object","picture","svg","video"]),tt=new Set(["pingback","prefetch","stylesheet"]);function nt(e){if(!E(e,"link"))return!1;if(I(e,"itemProp"))return!0;const n=(e.properties||{}).rel||[];let r=-1;if(!Array.isArray(n)||n.length===0)return!1;for(;++r<n.length;)if(!tt.has(String(n[r])))return!1;return!0}const rt=d(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),it=d("meta");function lt(e){return!!(st(e)&&(e.type==="text"||rt(e)||et(e)||nt(e)||it(e)&&I(e,"itemProp")))}function st(e){return e&&typeof e=="object"&&"type"in e}const ct=N(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function de(e){return ge(e,t);function t(n){const r=n[0];return n.length===1&&r.type==="text"&&(r.value===" "||r.value===`
`)?[]:{type:"paragraph",children:n}}}function O(e){let t=-1,n;for(;++t<e.length;)if(n=e[t],!ye(n)||"children"in n&&O(n.children))return!0;return!1}function ge(e,t,n){const r=n||ut,i=ot(e);let l=[],s=-1,c,o;for(;++s<i.length;)o=i[s],ye(o)?(c||(c=[]),c.push(o)):(c&&(l=l.concat(t(c)),c=void 0),l=l.concat(r(o)));return c&&(l=l.concat(t(c))),l}function ot(e){let t=[],n=-1,r;for(;++n<e.length;)r=e[n],(r.type==="delete"||r.type==="link")&&O(r.children)?t=t.concat(at(r)):t.push(r);return t}function at(e){return ge(e.children,n,t);function t(r){if("children"in r&&"children"in e){const{children:i,...l}=e;return{...r,children:[{...V(!0,{},l),children:r.children}]}}return{...r}}function n(r){const{children:i,...l}=e;return{...V(!0,{},l),children:r}}}function ye(e){return e.data&&e.data.hName?lt({type:"element",tagName:e.data.hName,properties:{},children:[]}):ct(e)}function ut(e){return e}function h(e,t){return de(a(e,t))}function x(e,t){return t==null?"":e.frozenBaseUrl?String(new URL(t,e.frozenBaseUrl)):t}function ft(e,t){const n=t.properties;return e(t,"link",{title:n.title||null,url:x(e,String(n.href||"")||null)},a(e,t))}function pt(e,t){e.baseFound||(e.frozenBaseUrl=String(t.properties&&t.properties.href||"")||null,e.baseFound=!0)}function ht(e,t){return e(t,"blockquote",h(e,t))}function dt(e,t){return e.wrapText?e(t,"break"):e(t,"text"," ")}const k=function(e){if(e==null)return D;if(typeof e=="string")return yt(e);if(typeof e=="object")return gt(e);if(typeof e=="function")return me(e);throw new Error("Expected function, string, or array as test")};function gt(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=k(e[n]);return me(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function yt(e){return t;function t(n){return D(n)&&n.tagName===e}}function me(e){return t;function t(n,...r){return D(n)&&!!e.call(this,n,...r)}}function D(e){return!!(e&&typeof e=="object"&&e.type==="element"&&typeof e.tagName=="string")}const be=function(e){if(e==null)return xt;if(typeof e=="string")return wt(e);if(typeof e=="object")return Array.isArray(e)?mt(e):bt(e);if(typeof e=="function")return q(e);throw new Error("Expected function, string, or object as test")};function mt(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=be(e[n]);return q(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function bt(e){return q(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function wt(e){return q(t);function t(n){return n&&n.type===e}}function q(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function xt(){return!0}const Y=function(e,t,n){const r=be(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t];return null},_=/\n/g,G=/[\t ]+/g,W=k("br"),kt=k("p"),J=k(["th","td"]),Q=k("tr"),St=k(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",It,Bt]),we=k(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function B(e,t={}){const n="children"in e?e.children:[],r=we(e),i=Se(e,{whitespace:t.whitespace||"normal",breakBefore:!1,breakAfter:!1}),l=[];(e.type==="text"||e.type==="comment")&&l.push(...ke(e,{whitespace:i,breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<n.length;)l.push(...xe(n[s],e,{whitespace:i,breakBefore:s?void 0:r,breakAfter:s<n.length-1?W(n[s+1]):r}));const c=[];let o;for(s=-1;++s<l.length;){const u=l[s];typeof u=="number"?o!==void 0&&u>o&&(o=u):u&&(o!==void 0&&o>-1&&c.push(`
`.repeat(o)||" "),o=-1,c.push(u))}return c.join("")}function xe(e,t,n){return e.type==="element"?vt(e,t,n):e.type==="text"?n.whitespace==="normal"?ke(e,n):At(e):[]}function vt(e,t,n){const r=Se(e,n),i=e.children||[];let l=-1,s=[];if(St(e))return s;let c,o;for(W(e)||Q(e)&&Y(t,e,Q)?o=`
`:kt(e)?(c=2,o=2):we(e)&&(c=1,o=1);++l<i.length;)s=s.concat(xe(i[l],e,{whitespace:r,breakBefore:l?void 0:c,breakAfter:l<i.length-1?W(i[l+1]):o}));return J(e)&&Y(t,e,J)&&s.push("	"),c&&s.unshift(c),o&&s.push(o),s}function ke(e,t){const n=String(e.value),r=[],i=[];let l=0;for(;l<=n.length;){_.lastIndex=l;const o=_.exec(n),u=o&&"index"in o?o.index:n.length;r.push(Nt(n.slice(l,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),l===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),l=u+1}let s=-1,c;for(;++s<r.length;)r[s].charCodeAt(r[s].length-1)===8203||s<r.length-1&&r[s+1].charCodeAt(0)===8203?(i.push(r[s]),c=void 0):r[s]?(typeof c=="number"&&i.push(c),i.push(r[s]),c=0):(s===0||s===r.length-1)&&i.push(0);return i}function At(e){return[String(e.value)]}function Nt(e,t,n){const r=[];let i=0,l;for(;i<e.length;){G.lastIndex=i;const s=G.exec(e);l=s?s.index:e.length,!i&&!l&&s&&!t&&r.push(""),i!==l&&r.push(e.slice(i,l)),i=s?l+s[0].length:l}return i!==l&&!n&&r.push(""),r.join(" ")}function Se(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function It(e){return!!(e.properties||{}).hidden}function Bt(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function $t(e){const t=String(e);let n=t.length;for(;n>0;){const r=t.codePointAt(n-1);if(r!==void 0&&(r===10||r===13))n--;else break}return t.slice(0,n)}const R="language-",jt=d("pre"),Tt=d("code");function $(e,t){const n=t.children;let r=-1,i,l;if(jt(t))for(;++r<n.length;){const s=n[r];if(Tt(s)&&s.properties&&s.properties.className&&Array.isArray(s.properties.className)){i=s.properties.className;break}}if(i){for(r=-1;++r<i.length;)if(String(i[r]).slice(0,R.length)===R){l=String(i[r]).slice(R.length);break}}return e(t,"code",{lang:l||null,meta:null},$t(y(e,B(t))))}function Ct(e,t){return e(t,"html","<!--"+y(e,t.value)+"-->")}function P(e,t){return e(t,"delete",a(e,t))}function K(e){let t=-1;if(e.length>1){for(;++t<e.length;)if(e[t].spread)return!0}return!1}function ve(e,t){const n=a(e,t);let r=-1;for(;++r<n.length;){const i=n[r];i.type!=="listItem"&&(n[r]={type:"listItem",spread:!1,checked:null,children:[i]})}return n}const Et=d("div"),Ft=d("dt"),Ot=d("dd");function qt(e,t){const n=t.children;let r=-1,i=[];const l=[];let s={titles:[],definitions:[]},c,o;for(;++r<n.length;)c=n[r],i=i.concat(Et(c)?c.children:c);for(r=-1;++r<i.length;)c=i[r],Ft(c)?(Ot(i[r-1])&&(l.push(s),s={titles:[],definitions:[]}),s.titles.push(c)):s.definitions.push(c);l.push(s),r=-1;const u=[];for(;++r<l.length;)o=[...Z(e,l[r].titles),...Z(e,l[r].definitions)],o.length>0&&u.push({type:"listItem",spread:o.length>1,checked:null,children:o});if(u.length>0)return e(t,"list",{ordered:!1,start:null,spread:K(u)},u)}function Z(e,t){const n=ve(e,{type:"element",tagName:"x",children:t});return n.length===0?[]:n.length===1?n[0].children:[{type:"list",ordered:!1,start:null,spread:K(n),children:n}]}function j(e,t){return e(t,"emphasis",a(e,t))}function S(e,t){const n=Number(t.tagName.charAt(1))||1,r=e.wrapText;e.wrapText=!1;const i=e(t,"heading",{depth:n},a(e,t));return e.wrapText=r,i}function Rt(e,t){return e(t,"thematicBreak")}function Pt(e,t){const n=t.properties,r=String(n.src||""),i=String(n.title||"");if(r&&i)return{type:"link",title:null,url:x(e,r),children:[{type:"text",value:y(e,i)}]}}function ee(e,t){const n=t.properties;return e(t,"image",{url:x(e,String(n.src||"")||null),title:n.title||null,alt:n.alt||""})}function A(e,t){return e(t,"inlineCode",y(e,B(t)))}const Ut=d("option");function Ae(e,t,n){const r=n||t.properties;let i=Ne(t);const l=Math.min(Number.parseInt(String(r.size),10),0)||(r.multiple?4:1);let s=-1;const c=[],o=[];for(;++s<i.length;)I(i[s],"selected")&&c.push(i[s]);for(i=(c.length>0?c:i).slice(0,l),s=-1;++s<i.length;){const p=i[s],w=y(e,B(p)),g=p.properties,b=w||String(g.label||""),m=String(g.value||"")||w;o.push([m,b===m?null:b])}return o}function Ne(e){const t=e.children;let n=-1,r=[],i;for(;++n<t.length;)i=t[n],Array.isArray(i.children)&&(r=r.concat(Ne(i))),Ut(i)&&!I(i,"disabled")&&r.push(i);return r}const Lt=d("datalist");function zt(e,t){const n=t.properties;let r=String(n.value||n.placeholder||"");const i=[],l=[];let s=[],c=-1,o;if(!(n.disabled||n.type==="hidden"||n.type==="file")){if(n.type==="checkbox"||n.type==="radio")return e(t,"text",y(e,e[n.checked?"checked":"unchecked"]));if(n.type==="image")return n.alt||r?e(t,"image",{url:x(e,String(n.src||"")||null),title:y(e,String(n.title||""))||null,alt:y(e,String(n.alt||r))}):[];if(r?s=[[r,null]]:n.type!=="password"&&n.type!=="file"&&n.type!=="submit"&&n.type!=="reset"&&n.type!=="button"&&n.list&&(o=String(n.list).toUpperCase(),C.call(e.nodeById,o)&&Lt(e.nodeById[o])&&(s=Ae(e,e.nodeById[o],n))),s.length!==0){if(n.type==="password"&&(s[0]=["•".repeat(s[0][0].length),null]),n.type==="url"||n.type==="email"){for(;++c<s.length;)r=x(e,s[c][0]),i.push(e(t,"link",{title:null,url:y(e,n.type==="email"?"mailto:"+r:r)},[{type:"text",value:y(e,s[c][1]||r)}])),c!==s.length-1&&i.push({type:"text",value:", "});return i}for(;++c<s.length;)l.push(s[c][1]?s[c][1]+" ("+s[c][0]+")":s[c][0]);return e(t,"text",y(e,l.join(", ")))}}}const Wt=d("p"),Mt=d("input");function U(e,t){const n=t.children[0];let r=null,i,l;Wt(n)&&(i=n.children[0],Mt(i)&&i.properties&&(i.properties.type==="checkbox"||i.properties.type==="radio")&&(r=!!i.properties.checked,l={...t,children:[{...n,children:n.children.slice(1)},...t.children.slice(1)]}));const s=h(e,l||t);return e(t,"listItem",{spread:s.length>1,checked:r},s)}const Ht=d("ol");function L(e,t){const n=Ht(t),r=ve(e,t);let i=null;return n&&(i=I(t,"start")?Number.parseInt(String(t.properties.start),10):1),e(t,"list",{ordered:n,start:i,spread:K(r)},r)}const Dt={};function Kt(e,t){const n=Dt,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ie(e,r,i)}function Ie(e,t,n){if(Vt(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return te(e.children,t,n)}return Array.isArray(e)?te(e,t,n):""}function te(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Ie(e[i],t,n);return r.join("")}function Vt(e){return!!(e&&typeof e=="object")}const Xt=d("source"),Yt=d("video");function ne(e,t){let n=a(e,t);const r=t.properties,i=Yt(t)&&String(r.poster||"");let l=String(r.src||""),s=-1,c=!1,o;if(T({type:"root",children:n},"link",u),c||O(n))return n;for(;!l&&++s<t.children.length;)o=t.children[s],Xt(o)&&(l=String(o.properties.src||""));return i&&(n=[{type:"image",title:null,url:x(e,i),alt:Kt({children:n})}]),{type:"link",title:t.properties.title||null,url:x(e,l),children:n};function u(){return c=!0,z}}function re(e,t){const n=a(e,t);if(n.length>0)return e(t,"paragraph",n)}function _t(e,t){const n=e.quotes[e.qNesting%e.quotes.length];e.qNesting++;const r=a(e,t);return e.qNesting--,r.unshift({type:"text",value:n.charAt(0)}),r.push({type:"text",value:n.length>1?n.charAt(1):n}),r}function Gt(e,t){let n=a(e,t);return(e.document||O(n))&&(n=de(n)),e(t,"root",n)}function Jt(e,t){const n=Ae(e,t);let r=-1;const i=[];let l;for(;++r<n.length;)l=n[r],i.push(l[1]?l[1]+" ("+l[0]+")":l[0]);if(i.length>0)return e(t,"text",y(e,i.join(", ")))}function ie(e,t){return e(t,"strong",a(e,t))}function le(e,t){const n=e.wrapText;e.wrapText=!1;const r=e(t,"tableCell",a(e,t));if(t.properties&&(t.properties.rowSpan||t.properties.colSpan)){const i=r.data||(r.data={});t.properties.rowSpan&&(i.rowSpan=t.properties.rowSpan),t.properties.colSpan&&(i.colSpan=t.properties.colSpan)}return e.wrapText=n,r}function Qt(e,t){return e(t,"tableRow",a(e,t))}const Zt=d("thead"),en=d("tr"),tn=d(["th","td"]);function nn(e,t){if(e.inTable)return e(t,"text",y(e,B(t)));e.inTable=!0;const{headless:n,align:r}=rn(t),i=ln(a(e,t),n);let l=1,s=-1;for(;++s<i.length;){const o=i[s].children;let u=-1;for(;++u<o.length;){const p=o[u];if(p.data){const w=Number.parseInt(String(p.data.colSpan),10)||1,g=Number.parseInt(String(p.data.rowSpan),10)||1;if(w>1||g>1){let b=s-1;for(;++b<s+g;){let m=u-1;for(;++m<u+w&&i[b];){const v=[];(b!==s||m!==u)&&v.push({type:"tableCell",children:[]}),i[b].children.splice(m,0,...v)}}}"colSpan"in p.data&&delete p.data.colSpan,"rowSpan"in p.data&&delete p.data.rowSpan,Object.keys(p.data).length===0&&delete p.data}}o.length>l&&(l=o.length)}for(s=-1;++s<i.length;){const o=i[s].children;let u=o.length-1;for(;++u<l;)o.push({type:"tableCell",children:[]})}let c=r.length-1;for(;++c<l;)r.push(null);return e.inTable=!1,e(t,"table",{align:r},i)}function rn(e){let t=!0,n=0,r=0;const i=[null];return T(e,"element",l=>{if(l.tagName==="table"&&e!==l)return pe;tn(l)&&l.properties?(i[r]||(i[r]=String(l.properties.align||"")||null),t&&n<2&&l.tagName==="th"&&(t=!1),r++):Zt(l)?t=!1:en(l)&&(n++,r=0)}),{align:i,headless:t}}function ln(e,t){let n=-1;const r=[];let i;for(t&&r.push({type:"tableRow",children:[]});++n<e.length;){const l=e[n];l.type==="tableRow"?(i&&(l.children.unshift(...i),i=void 0),r.push(l)):(i||(i=[]),i.push(l))}for(i&&r[r.length-1].children.push(...i),n=-1;++n<r.length;)r[n].children=sn(r[n].children);return r}function sn(e){const t=[];let n=-1,r,i;for(;++n<e.length;)r=e[n],r.type==="tableCell"?(i&&(r.children.unshift(...i),i=void 0),t.push(r)):(i||(i=[]),i.push(r));return i&&(r=t[t.length-1],r||(r={type:"tableCell",children:[]},t.push(r)),r.children.push(...i)),t}function cn(e,t){return e(t,"text",y(e,t.value))}function on(e,t){return e(t,"text",y(e,B(t)))}function an(e,t){return e(t,"text","​")}const se={root:Gt,text:cn,comment:Ct,doctype:f,applet:f,area:f,basefont:f,bgsound:f,caption:f,col:f,colgroup:f,command:f,content:f,datalist:f,dialog:f,element:f,embed:f,frame:f,frameset:f,isindex:f,keygen:f,link:f,math:f,menu:f,menuitem:f,meta:f,nextid:f,noembed:f,noframes:f,optgroup:f,option:f,param:f,script:f,shadow:f,source:f,spacer:f,style:f,svg:f,template:f,title:f,track:f,abbr:a,acronym:a,bdi:a,bdo:a,big:a,blink:a,button:a,canvas:a,cite:a,data:a,details:a,dfn:a,font:a,ins:a,label:a,map:a,marquee:a,meter:a,nobr:a,noscript:a,object:a,output:a,progress:a,rb:a,rbc:a,rp:a,rt:a,rtc:a,ruby:a,slot:a,small:a,span:a,sup:a,sub:a,tbody:a,tfoot:a,thead:a,time:a,address:h,article:h,aside:h,body:h,center:h,div:h,fieldset:h,figcaption:h,figure:h,form:h,footer:h,header:h,hgroup:h,html:h,legend:h,main:h,multicol:h,nav:h,picture:h,section:h,a:ft,audio:ne,b:ie,base:pt,blockquote:ht,br:dt,code:A,dir:L,dl:qt,dt:U,dd:U,del:P,em:j,h1:S,h2:S,h3:S,h4:S,h5:S,h6:S,hr:Rt,i:j,iframe:Pt,img:ee,image:ee,input:zt,kbd:A,li:U,listing:$,mark:j,ol:L,p:re,plaintext:$,pre:$,q:_t,s:P,samp:A,select:Jt,strike:P,strong:ie,summary:re,table:nn,td:le,textarea:on,th:le,tr:Qt,tt:A,u:j,ul:L,var:A,video:ne,wbr:an,xmp:$};function f(){}const un=N(["heading","paragraph","root"]);function Be(e,t={}){const n={};let r;const i=Object.assign((c,o,u,p)=>{let w;typeof u=="string"||Array.isArray(u)?(p=u,w={}):w=u;const g={type:o,...w};return typeof p=="string"?g.value=p:p&&(g.children=p),c.position&&(g.position=c.position),g},{nodeById:n,baseFound:!1,inTable:!1,wrapText:!0,frozenBaseUrl:null,qNesting:0,handlers:t.handlers?{...se,...t.handlers}:se,document:t.document,checked:t.checked||"[x]",unchecked:t.unchecked||"[ ]",quotes:t.quotes||['"']});T(e,"element",c=>{const o=c.properties&&"id"in c.properties&&String(c.properties.id).toUpperCase();o&&!C.call(n,o)&&(n[o]=c)}),Le({newlines:t.newlines===!0})(e);const l=he(i,e,void 0);return l?Array.isArray(l)?r={type:"root",children:l}:r=l:r={type:"root",children:[]},T(r,"text",s),r;function s(c,o,u){if(o===null||!u)return;const p=u.children[o-1];if(p&&p.type===c.type)return p.value+=c.value,u.children.splice(o,1),p.position&&c.position&&(p.position.end=c.position.end),o-1;if(c.value=c.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),u&&un(u)&&(o||(c.value=c.value.replace(/^[\t ]+/,"")),o===u.children.length-1&&(c.value=c.value.replace(/[\t ]+$/,""))),!c.value)return u.children.splice(o,1),o}}const dn=function(e,t){let n,r;return typeof e=="function"?(r=e,n=t||{}):n=e||{},(n.document===void 0||n.document===null)&&(n=Object.assign({},n,{document:!0})),r?fn(r,n):pn(n)};function fn(e,t){return(n,r,i)=>{e.run(Be(n,t),r,l=>{i(l)})}}function pn(e={}){return t=>Be(t,e)}export{a as all,dn as default,se as defaultHandlers,he as one};
